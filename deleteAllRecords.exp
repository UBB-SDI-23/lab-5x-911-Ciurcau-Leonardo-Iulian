#!/usr/bin/expect

set timeout -1
set dbuser "dbuser"
set dbpass "1234"
set dbname "mydb"
set sqlfile "generate_records_delete.sql"

spawn psql -d $dbname -U $dbuser -f $sqlfile
expect "Password for user $dbuser:"
send "$dbpass\r"
interact